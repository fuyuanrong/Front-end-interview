<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS EventLoop</title>

	<style type="text/css">
		.container {
			display: flex;
			flex-direction: column;
		}
		.container .inner {
			display: flex;
			flex-direction: row;
		}
		.container .inner img{
			width: 50%;
			border: 1px solid black;
			margin: 1px;
		}
	</style>
</head>
<body>
	<div class="container">
		<h1>JS EventLoop</h1>
		<p> <strong>同步代码:</strong> 立即放入JS引擎(js主线程)执行,并原地等待结果</p>
		<p> <strong>异步代码:</strong> 先放入宿主环境(浏览器/node).不必原地等待结果</p>
		<p>不阻塞主线程继续往下执行,异步结果在将来执行</p>
		<div class="inner">
			<img src="./eventloop.jpg" alt="">
			<img src="./eventloop2.jpg" alt="" >
		</div>


		<h2>总结:</h2>
		<p>1.js是单线程,防止代码阻塞,把代码分成同步代码和异步代码</p>
		<p>2.同步代码交给js引擎执行,异步代码交给宿主环境</p>
		<p>3.同步代码放入执行栈中,异步代码等待时机成熟送入任务队列排队</p>
		<p>4.执行栈执行完毕,会去任务队列看是否有异步任务,有就送到执行栈执行,反复循环查看执行,这个过程就是事件循环(EventLoop)</p>



		<h3>JS把异步任务分为宏任务和微任务</h3>
		<h6>ES5之后js引入了Promise,不需要浏览器,js引擎自身也能发起异步任务</h6>
		<h4>宏任务是由宿主(浏览器/node)发起</h4>
		<p>script,事件,网络请求(AJAX,Fetch),setTimeout/setInterval</p>
		<h4>微任务:js引擎发起的任务</h4>
		<p>Promise,promise本身同步,then,catch的回调函数是异步的</p>

	</div>
	<script>
	</script>
</body>
</html>